<div class="d-flex flex-column bg-light m-auto p-5 rounded-3 w-50 w-sm-100 justify-content-center ">

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" autocomplete="off">
      <h3 class="text-lg mb-4 fw-bold text-center">Registro</h3>
      <div class="mb-3">
        <label for="inName" class="form-label">Nombre:</label>
        <input type="text" class="form-control" id="inName" placeholder="Nombre" formControlName="name">
        <!-- <span *ngIf="isValidField('name')"  class="form-text text-danger">
          Debe de ser en formato de nombre y apellido
      </span> -->
      <span *ngIf="isValidField('name')" class="form-text text-danger">{{getFieldError("name")}}</span>
      </div>
      <div class="mb-3">
        <label for="inEmail" class="form-label">Email:</label>
        <input type="text" class="form-control" id="inEmail" placeholder="ejemplo@ejemplo.com" formControlName="email">
        <!-- <span *ngIf="isValidField('email')"  class="form-text text-danger">
          Email no válido
      </span> -->
      <span *ngIf="isValidField('email')" class="form-text text-danger">{{getFieldError("email")}}</span>

      </div>
      <div class="mb-3">
        <label for="inUser" class="form-label">Usuario:</label>
        <input type="text" class="form-control" id="inUser" placeholder="Usuario" formControlName="username">
        <!-- <span *ngIf="isValidField('username')"  class="form-text text-danger">
          El username ya está en uso. Escoge otro nombre de usuario.
     </span> -->
     <span *ngIf="isValidField('username')" class="form-text text-danger">{{getFieldError("username")}}</span>
      </div>

      <div class="mb-3">
        <label for="inPassword" class="form-label">Contraseña: </label>
        <input type="password" id="inPassword" class="form-control"  placeholder="Contraseña" formControlName="password">
        <!-- <span *ngIf="isValidField('password')"  class="form-text text-danger">
          Tu contraseña debe tener entre 8-20 caracteres. Debe contener letras y números, no debe contener espacios en blanco, caracteres especiales o emojis.
     </span> -->
     <span *ngIf="isValidField('password')" class="form-text text-danger">{{getFieldError("password")}}</span>

      </div>
      <div class="mb-3">
        <label for="inPassword2" class="form-label">Confirmar contraseña:</label>
        <input type="password" class="form-control" id="inPassword2" placeholder="Confirmar contraseña" formControlName="password2">
        <!-- <span *ngIf="isValidField('password2')"  class="form-text text-danger">
          Las contraseñas deben de ser iguales
     </span> -->
     <span *ngIf="isValidField('password2')" class="form-text text-danger">{{getFieldError("password2")}}</span>
      </div>
      <div class="text-center mt-3">
        <button class="btn btn-warning" type="submit">
                   Crear cuenta
        </button>
      </div>
    </form>


    <div class="mt-3 text-center">
      <a routerLink="/auth/login">Ya tengo cuenta</a>
    </div>

  </div>

  <div class="m-5 text-white">
    <h2>Form Valid: {{ registerForm.valid }}</h2>
    <h2>Form Status: {{ registerForm.status }}</h2>
    <h2>Form Pending: {{ registerForm.pending }}</h2>
    <h2>Form errors: </h2>
    <pre>{{ registerForm.errors| json }}</pre>

    <h5>Nombre</h5>
    <pre>{{ registerForm.controls['name'].errors  | json }}</pre>

    <h5>Email</h5>
    <pre>{{ registerForm.controls['email'].errors  | json }}</pre>

    <h5>Username</h5>
    <pre>{{ registerForm.controls['username'].errors  | json }}</pre>

    <h5>Password</h5>
    <pre>{{ registerForm.value.password| json }}</pre>

    <h5>Confirmar</h5>
    <pre>{{ registerForm.controls['password2'].errors | json }}</pre>
  </div>
